# See https://github.com/Tecnativa/doodba#optodoocustomsrcreposyaml
./odoo:
  defaults:
    # Shallow repositories ($DEPTH_DEFAULT=1) are faster & thinner
    # You may need a bigger depth when merging PRs (use 5000
    # for a sane value of 100 commits)
    depth: 5000
  remotes:
    ocb: https://github.com/OCA/OCB.git
    odoo: https://github.com/odoo/odoo.git
    openupgrade: https://github.com/OCA/OpenUpgrade.git
    escodoo: https://github.com/Escodoo/OCB.git
  target: ocb $ODOO_VERSION
  merges:
    - ocb $ODOO_VERSION
    - escodoo refs/pull/1/head # WEBSITE_SLIDES REMOVE PT_BR TRANSLATIONS
    - escodoo refs/pull/2/head # ACCOUNT SET PASS IN MODEL (PROCESS MIGRATION SCRIPT)
field-service:
  defaults:
    depth: $DEPTH_MERGE
  remotes:
    origin: https://github.com/OCA/field-service
    escodoo: https://github.com/Escodoo/field-service
  merges:
    - origin $ODOO_VERSION
    - origin refs/pull/1155/head # FIELD SERVICE SURVEY
  target: origin merged
  fetch_all: true

timesheet:
  defaults:
    depth: $DEPTH_MERGE
  remotes:
    origin: https://github.com/OCA/timesheet
    escodoo: https://github.com/Escodoo/timesheet
  merges:
    - origin $ODOO_VERSION
    - origin refs/pull/628/head # HR_TIMESHEET_SHEET_NO_CRETATE
  target: origin merged
  fetch_all: true

l10n-brazil:
  defaults:
    depth: $DEPTH_MERGE
  remotes:
    origin: https://github.com/OCA/l10n-brazil
    escodoo: https://github.com/Escodoo/l10n-brazil
  merges:
    - origin $ODOO_VERSION
    - origin refs/pull/2429/head # L10N_BR_HR_CONTRACT
    - escodoo refs/pull/57/head # REMOVE DUPLICATE CSV LINES IN L10N BR FISCAL (PROCESS MIGRATION SCRIPT)
  target: origin merged
  fetch_all: true

odoo-usability:
  defaults:
    depth: $DEPTH_MERGE
  remotes:
    origin: https://github.com/Akretion/odoo-usability
    escodoo: https://github.com/Escodoo/odoo-usability
  merges:
    - origin $ODOO_VERSION
    - escodoo refs/pull/1/head # ACCOUNT_USABILITY REMOVE SCRIPT MIGRATION TO IGNORE CONFLICT (PROCESS MIGRATION SCRIPT)
    - escodoo refs/pull/2/head # PRODUCT_USABILITY SCRIPT TO REMOVE PRODUCT_REL NOT FOUND IN PRODUCT AND PRODUCT_TEMPLATE (PROCESS MIGRATION SCRIPT)
    - escodoo refs/pull/3/head # SALE_USABILITY DISABLE ERROR CLIENT_ORDER_REF
  target: escodoo merged
  fetch_all: true

server-ux:
  defaults:
    depth: $DEPTH_MERGE
  remotes:
    origin: https://github.com/OCA/server-ux
    escodoo: https://github.com/Escodoo/server-ux
  merges:
    - origin $ODOO_VERSION
    - escodoo refs/pull/2/head # BASE_TIER_VALIDATION REMOVE RAISE AND SET PASS (PROCESS MIGRATION SCRIPT)
  target: escodoo merged
  fetch_all: true

manufacture:
  defaults:
    depth: $DEPTH_MERGE
  remotes:
    origin: https://github.com/OCA/manufacture
    escodoo: https://github.com/Escodoo/manufacture
  merges:
    - origin $ODOO_VERSION
    - escodoo 14.0-mig-quality_control_team_oca # Escodoo:14.0-mig-quality_control_team_oca
  target: origin merged
  fetch_all: true
